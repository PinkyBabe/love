<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>us</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;1,400;1,500&family=DM+Sans:wght@200;300;400&display=swap" rel="stylesheet">
<style>
  :root {
    --ink:     #0e1018;
    --deep:    #111827;
    --mid:     #1e2535;
    --accent:  #7b9ccc;        /* muted steel-blue */
    --accent2: #4f6d9a;        /* deeper slate-blue */
    --mist:    rgba(123,156,204,0.12);
    --text:    #c8d4e8;
    --soft:    rgba(200,212,232,0.45);
    --dim:     rgba(200,212,232,0.2);
  }

  * { margin:0; padding:0; box-sizing:border-box; }

  html { scroll-behavior:smooth; }

  body {
    font-family:'DM Sans', sans-serif;
    background: var(--ink);
    min-height:100vh;
    overflow-x:hidden;
    color: var(--text);
  }

  /* ‚îÄ‚îÄ Background ‚îÄ‚îÄ */
  .bg {
    position:fixed; inset:0; z-index:0;
    background:
      radial-gradient(ellipse at 10% 20%, rgba(60,90,160,0.14) 0%, transparent 52%),
      radial-gradient(ellipse at 90% 80%, rgba(40,70,130,0.12) 0%, transparent 52%),
      radial-gradient(ellipse at 55% 45%, rgba(20,40,90,0.08) 0%, transparent 60%);
    background-color: var(--ink);
  }

  /* Subtle noise */
  .noise {
    position:fixed; inset:0; z-index:1; pointer-events:none;
    opacity:0.028;
    background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size:200px;
  }

  /* Thin horizontal rule lines in bg for depth */
  .grid-lines {
    position:fixed; inset:0; z-index:1; pointer-events:none;
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 79px,
      rgba(123,156,204,0.04) 80px
    );
  }

  /* ‚îÄ‚îÄ Floating petals ‚Äî only flowers, kept warm ‚îÄ‚îÄ */
  .petals { position:fixed; inset:0; z-index:2; pointer-events:none; overflow:hidden; }
  .petal {
    position:absolute; top:-20px; opacity:0;
    animation:drift linear infinite; user-select:none; pointer-events:none;
    font-size:14px;
  }
  @keyframes drift {
    0%   { opacity:0;    transform:translateY(0) rotate(0deg) translateX(0px); }
    8%   { opacity:0.5;  }
    88%  { opacity:0.3;  }
    100% { opacity:0;    transform:translateY(105vh) rotate(380deg) translateX(40px); }
  }

  /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
  .header {
    position:relative; z-index:10;
    padding:72px 24px 24px;
    display:flex; flex-direction:column; align-items:center;
    animation:riseIn 1.2s cubic-bezier(0.22,1,0.36,1) both;
  }
  @keyframes riseIn {
    from { opacity:0; transform:translateY(24px); }
    to   { opacity:1; transform:translateY(0); }
  }

  .eyebrow {
    font-size:0.58rem; font-weight:300; letter-spacing:0.42em;
    text-transform:uppercase; color:var(--accent); margin-bottom:14px;
    opacity:0.8;
  }

  h1 {
    font-family:'Playfair Display', serif;
    font-weight:400; font-style:italic;
    font-size:clamp(2.8rem, 6.5vw, 5rem);
    color:#e8eef7;
    letter-spacing:-0.01em;
    line-height:1.05;
    text-align:center;
  }

  .rule {
    width:1px; height:40px;
    background:linear-gradient(to bottom, transparent, var(--accent2), transparent);
    margin:20px auto;
    opacity:0.6;
  }

  .caption {
    position:relative; z-index:10;
    text-align:center;
    font-size:0.72rem; font-weight:300; letter-spacing:0.1em;
    color:var(--soft);
    padding:0 24px 44px;
    opacity:0;
    animation:riseIn 1.6s cubic-bezier(0.22,1,0.36,1) both;
    animation-delay:0.3s;
  }

  /* ‚îÄ‚îÄ Gallery ‚îÄ‚îÄ */
  .gallery {
    position:relative; z-index:10;
    max-width:960px; margin:0 auto;
    padding:0 0 140px;
  }

  .grid {
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:2px;
  }

  .card {
    position:relative; aspect-ratio:1/1; overflow:hidden; cursor:pointer;
    opacity:0; animation:fadeUp 0.5s ease both;
    background:var(--mid);
  }
  @keyframes fadeUp {
    from { opacity:0; transform:translateY(10px); }
    to   { opacity:1; transform:translateY(0); }
  }

  .card img {
    width:100%; height:100%; object-fit:cover; display:block;
    transition:transform 0.6s cubic-bezier(0.25,0.46,0.45,0.94), filter 0.5s ease;
    filter:saturate(0.82) brightness(0.9) contrast(1.04);
    will-change:transform;
  }
  .card:hover img {
    transform:scale(1.06);
    filter:saturate(0.95) brightness(1.0) contrast(1.02);
  }

  /* Subtle blue tint overlay on hover */
  .card::after {
    content:'';
    position:absolute; inset:0;
    background:rgba(60,90,160,0);
    transition:background 0.4s ease;
    pointer-events:none;
  }
  .card:hover::after {
    background:rgba(60,90,160,0.12);
  }

  .status {
    grid-column:1/-1; text-align:center; padding:70px 24px;
    font-family:'Playfair Display', serif; font-style:italic;
    font-size:1.05rem; color:var(--soft); letter-spacing:0.04em;
  }
  .status.error {
    font-family:'DM Sans', sans-serif; font-style:normal;
    font-size:0.78rem; line-height:2; color:rgba(200,212,232,0.55);
  }

  /* ‚îÄ‚îÄ Lightbox ‚îÄ‚îÄ */
  .lightbox {
    position:fixed; inset:0; z-index:300;
    display:flex; align-items:center; justify-content:center;
    background:rgba(8,10,16,0.97);
    backdrop-filter:blur(18px) saturate(0.6);
    opacity:0; pointer-events:none;
    transition:opacity 0.28s ease;
  }
  .lightbox.open { opacity:1; pointer-events:all; }

  .lb-wrap {
    position:relative;
    display:flex; align-items:center; justify-content:center;
  }

  .lightbox img {
    max-width:88vw; max-height:84vh;
    object-fit:contain; border-radius:3px;
    box-shadow:0 40px 100px rgba(0,0,0,0.85);
    transform:scale(0.95); transition:transform 0.3s cubic-bezier(0.22,1,0.36,1);
  }
  .lightbox.open img { transform:scale(1); }

  .lb-btn {
    position:absolute; background:none; border:none;
    color:rgba(200,212,232,0.4); cursor:pointer;
    transition:color 0.2s, transform 0.2s;
    font-family:'Playfair Display', serif; line-height:1;
    padding:8px;
  }
  .lb-btn:hover { color:rgba(200,212,232,0.9); }

  #lb-close { top:-46px; right:0; font-size:1.4rem; font-family:'DM Sans',sans-serif; font-weight:200; }
  #lb-close:hover { transform:rotate(90deg); }
  #lb-prev  { left:-64px; font-size:3rem; }
  #lb-next  { right:-64px; font-size:3rem; }

  .lb-counter {
    position:absolute; bottom:-34px; left:50%; transform:translateX(-50%);
    font-size:0.58rem; font-weight:300; letter-spacing:0.3em;
    color:var(--dim); white-space:nowrap; font-family:'DM Sans',sans-serif;
  }

  @media(max-width:600px){
    #lb-prev { left:-30px; font-size:2.2rem; }
    #lb-next { right:-30px; font-size:2.2rem; }
  }

  /* ‚îÄ‚îÄ Music pill ‚îÄ‚îÄ */
  .music-pill {
    position:fixed; bottom:26px; left:50%; transform:translateX(-50%);
    z-index:200;
    display:flex; align-items:center; gap:10px;
    background:rgba(14,16,24,0.82);
    border:1px solid rgba(123,156,204,0.15);
    backdrop-filter:blur(24px);
    border-radius:40px; padding:10px 22px;
    box-shadow:0 8px 40px rgba(0,0,0,0.4);
    animation:riseIn 2s ease both; animation-delay:0.5s;
    cursor:default; user-select:none;
  }

  .music-dot {
    width:6px; height:6px; border-radius:50%;
    background:var(--accent2);
    animation:glow 2.4s ease-in-out infinite;
    flex-shrink:0;
  }
  @keyframes glow {
    0%,100% { opacity:0.4; box-shadow:0 0 0 0 rgba(79,109,154,0); }
    50%      { opacity:1;   box-shadow:0 0 8px 2px rgba(79,109,154,0.5); }
  }

  .music-label {
    font-size:0.56rem; font-weight:300; letter-spacing:0.28em;
    text-transform:uppercase; color:rgba(200,212,232,0.45);
  }

  #yt-frame { display:none; width:0; height:0; }
</style>
</head>
<body>

<div class="bg"></div>
<div class="noise"></div>
<div class="grid-lines"></div>
<div class="petals" id="petals"></div>

<iframe id="yt-frame"
  src="https://www.youtube.com/embed/FcwJzTYcf5g?list=RDFcwJzTYcf5g&autoplay=1&loop=1&mute=0&controls=0&playsinline=1"
  allow="autoplay; encrypted-media" allowfullscreen></iframe>

<header class="header">
  <div class="eyebrow">a collection of</div>
  <h1>us</h1>
  <div class="rule"></div>
</header>

<p class="caption">moments worth keeping</p>

<main class="gallery">
  <div class="grid" id="grid">
    <div class="status">loading‚Ä¶</div>
  </div>
</main>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <div class="lb-wrap">
    <button class="lb-btn" id="lb-close">‚úï</button>
    <button class="lb-btn" id="lb-prev">‚Äπ</button>
    <img id="lb-img" src="" alt="">
    <button class="lb-btn" id="lb-next">‚Ä∫</button>
    <div class="lb-counter" id="lb-counter"></div>
  </div>
</div>

<!-- Music -->
<div class="music-pill">
  <div class="music-dot"></div>
  <span class="music-label">now playing</span>
</div>

<script>
  const FOLDER_ID = '19HBgsj-FzJeORd_NiWTR9Y0hFukYb_uR';
  const API_KEY   = 'AIzaSyAD_0iTfpXo3_85MXXRmV7OeIyHdFG5bss';

  // Petals ‚Äî only flower emojis, kept warm
  const FLOWERS = ['üå∏','üå∏','üå∏','üå∫','üåº','‚úø','‚ùÄ'];
  const pc = document.getElementById('petals');
  for (let i = 0; i < 18; i++) {
    const p = document.createElement('div');
    p.className = 'petal';
    p.textContent = FLOWERS[Math.floor(Math.random() * FLOWERS.length)];
    const size = 10 + Math.random() * 8;
    p.style.cssText = [
      `left:${Math.random() * 100}vw`,
      `font-size:${size}px`,
      `animation-duration:${12 + Math.random() * 16}s`,
      `animation-delay:${Math.random() * 18}s`,
    ].join(';');
    pc.appendChild(p);
  }

  // Shuffle
  function shuffle(a) {
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function thumb(id) { return `https://drive.google.com/thumbnail?id=${id}&sz=w900`; }

  let ids = [], cur = 0;

  async function load() {
    const grid = document.getElementById('grid');
    try {
      const q = encodeURIComponent(`'${FOLDER_ID}' in parents and trashed=false`);
      const f = encodeURIComponent('files(id,mimeType)');
      const r = await fetch(`https://www.googleapis.com/drive/v3/files?q=${q}&fields=${f}&pageSize=1000&key=${API_KEY}`);
      const d = await r.json();
      if (d.error) throw new Error(d.error.message);
      const imgs = (d.files || []).filter(f => f.mimeType?.startsWith('image/'));
      if (!imgs.length) {
        grid.innerHTML = `<div class="status">no photos yet ‚Äî add some to the folder</div>`;
        return;
      }
      ids = shuffle(imgs.map(f => f.id));
      render();
    } catch(e) {
      grid.innerHTML = `<div class="status error">${e.message}</div>`;
    }
  }

  function render() {
    const grid = document.getElementById('grid');
    grid.innerHTML = '';
    ids.forEach((id, i) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.style.animationDelay = `${i * 0.035}s`;

      const img = document.createElement('img');
      img.src = thumb(id);
      img.alt = '';
      img.loading = 'lazy';
      img.onerror = () => card.remove();

      card.appendChild(img);
      card.addEventListener('click', () => open(i));
      grid.appendChild(card);
    });
  }

  // Lightbox
  const lb    = document.getElementById('lightbox');
  const lbImg = document.getElementById('lb-img');
  const lbCnt = document.getElementById('lb-counter');

  function open(i) {
    cur = i;
    lbImg.src = thumb(ids[i]);
    lbCnt.textContent = `${i + 1} ‚Äî ${ids.length}`;
    lb.classList.add('open');
  }

  function close() { lb.classList.remove('open'); }

  function go(d) {
    cur = (cur + d + ids.length) % ids.length;
    lbImg.src = thumb(ids[cur]);
    lbCnt.textContent = `${cur + 1} ‚Äî ${ids.length}`;
  }

  document.getElementById('lb-close').onclick = close;
  document.getElementById('lb-prev').onclick  = () => go(-1);
  document.getElementById('lb-next').onclick  = () => go(1);
  lb.addEventListener('click', e => { if (e.target === lb) close(); });

  document.addEventListener('keydown', e => {
    if (!lb.classList.contains('open')) return;
    if (e.key === 'Escape')     close();
    if (e.key === 'ArrowRight') go(1);
    if (e.key === 'ArrowLeft')  go(-1);
  });

  let tx = null;
  lb.addEventListener('touchstart', e => { tx = e.touches[0].clientX; }, { passive:true });
  lb.addEventListener('touchend',   e => {
    if (tx === null) return;
    const dx = e.changedTouches[0].clientX - tx;
    if (Math.abs(dx) > 48) go(dx < 0 ? 1 : -1);
    tx = null;
  });

  load();
</script>
</body>
</html>
